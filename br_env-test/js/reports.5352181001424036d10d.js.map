{"version":3,"sources":["webpack:///./Modules/Reports/Containers/reports.jsx"],"names":["Reports","setWrapperRef","node","_this","wrapper_ref","handleClickOutside","event","contains","target","props","history","push","AppRoutes","trade","React","Component","localStorage","removeItem","this","showBlur","document","addEventListener","toggleReports","hideBlur","removeEventListener","options","_this2","action_bar_items","onClick","icon","title","localize","component","react_default","a","createElement","wallet_information","has_description","has_loginid","Animations","is_visible","className","keyname","ref","vertical_tab","header_title","action_bar","action_bar_classname","alignment","classNameHeader","current_path","location","pathname","is_routed","is_full_width","list","routes","forEach","route","default","icon_component","label","value","path","propTypes","PropTypes","func","object","bool","arrayOf","connect","_ref","ui","hideRouteBlur","is_reports_visible","showRouteBlur","withRouter"],"mappings":"g/BAUMA,2QACFC,cAAgB,SAACC,GACbC,EAAKC,YAAcF,KAGvBG,mBAAqB,SAACC,GACdH,EAAKC,cAAgBD,EAAKC,YAAYG,SAASD,EAAME,SACrDL,EAAKM,MAAMC,QAAQC,KAAKC,IAAUC,gQAPxBC,IAAMC,6DAepBC,aAAaC,WAAW,0BACxBC,KAAKT,MAAMU,WACXC,SAASC,iBAAiB,YAAaH,KAAKb,oBAC5Ca,KAAKT,MAAMa,eAAc,kDAIzBJ,KAAKT,MAAMa,eAAc,GACzBJ,KAAKT,MAAMc,WACXH,SAASI,oBAAoB,YAAaN,KAAKb,qDAGzC,IAEIoB,EAFJC,EAAAR,KAiBAS,EAAmB,CACrB,CACIC,QAAS,WACLF,EAAKjB,MAAMC,QAAQC,KAAKC,IAAUC,OAClCa,EAAKjB,MAAMa,eAAc,IAE7BO,KAAO,iBACPC,MAAOC,mBAAS,UAEpB,CACIC,UAAW,kBAAMC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAmBC,iBAAe,EAACC,aAAW,KAC/DR,MAAW,KAGnB,OACIG,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,WAAYtB,KAAKT,MAAM+B,WACvBC,UAAU,uBACVC,QAAQ,wBAERT,EAAAC,EAAAC,cAAA,OAAKM,UAAU,UAAUE,IAAKzB,KAAKjB,eAC/BgC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACIC,aAAcd,mBAAS,WACvBe,WAAYnB,EACZoB,qBAAqB,wBACrBC,UAAU,SACVC,gBAAgB,sBAChBC,aAAchC,KAAKT,MAAM0C,SAASC,SAClCC,WAAW,EACXC,eAAe,EACfC,MA7CN9B,EAAU,GAEhBC,EAAKjB,MAAM+C,OAAOC,QAAQ,SAAAC,GACtBjC,EAAQd,KAAK,CACTgD,QAASD,EAAK,QACd7B,KAAS6B,EAAME,eACfC,MAASH,EAAM5B,MACfgC,MAASJ,EAAM1B,UACf+B,KAASL,EAAMK,SAIhBtC,4CAyCnBzB,EAAQgE,UAAY,CAChBzC,SAAe0C,IAAUC,KACzBxD,QAAeuD,IAAUE,OACzB3B,WAAeyB,IAAUG,KACzBjB,SAAec,IAAUE,OACzBX,OAAeS,IAAUI,QAAQJ,IAAUE,QAC3ChD,SAAe8C,IAAUC,KACzB5C,cAAe2C,IAAUC,MAGdI,kBACX,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,GAAH,MAAa,CACTjD,SAAeiD,EAAGC,cAClBjC,WAAegC,EAAGE,mBAClBvD,SAAeqD,EAAGG,cAClBrD,cAAekD,EAAGlD,gBALXgD,CAObM,YAAW5E","file":"js/reports.5352181001424036d10d.js","sourcesContent":["import PropTypes         from 'prop-types';\nimport React             from 'react';\nimport { withRouter }    from 'react-router-dom';\nimport { localize }      from 'App/i18n';\nimport { FadeWrapper }   from 'App/Components/Animations';\nimport VerticalTab       from 'App/Components/Elements/VerticalTabs/vertical-tab.jsx';\nimport AppRoutes         from 'Constants/routes';\nimport { connect }       from 'Stores/connect';\nimport WalletInformation from './wallet-information.jsx';\n\nclass Reports extends React.Component {\n    setWrapperRef = (node) => {\n        this.wrapper_ref = node;\n    };\n\n    handleClickOutside = (event) => {\n        if (this.wrapper_ref && !this.wrapper_ref.contains(event.target)) {\n            this.props.history.push(AppRoutes.trade);\n        }\n    };\n\n    componentDidMount() {\n        // SmartCharts keeps saving layout for ContractPlay even if layouts prop is set to null\n        // As a result, we have to remove it manually for each SmartChart instance in ContractReplay\n        // TODO: Remove this once SmartCharts finds a way to stop ChartIQ from saving layouts to localStorage\n        localStorage.removeItem('layout-contract-replay');\n        this.props.showBlur();\n        document.addEventListener('mousedown', this.handleClickOutside);\n        this.props.toggleReports(true);\n    }\n\n    componentWillUnmount() {\n        this.props.toggleReports(false);\n        this.props.hideBlur();\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    render () {\n        const menu_options = () => {\n            const options = [];\n\n            this.props.routes.forEach(route => {\n                options.push({\n                    default: route.default,\n                    icon   : route.icon_component,\n                    label  : route.title,\n                    value  : route.component,\n                    path   : route.path,\n                });\n            });\n\n            return options;\n        };\n\n        const action_bar_items = [\n            {\n                onClick: () => {\n                    this.props.history.push(AppRoutes.trade);\n                    this.props.toggleReports(false);\n                },\n                icon : 'ModalIconClose',\n                title: localize('Close'),\n            },\n            {\n                component: () => <WalletInformation has_description has_loginid />,\n                title    : '',\n            },\n        ];\n        return (\n            <FadeWrapper\n                is_visible={this.props.is_visible}\n                className='reports-page-wrapper'\n                keyname='reports-page-wrapper'\n            >\n                <div className='reports' ref={this.setWrapperRef}>\n                    <VerticalTab\n                        header_title={localize('Reports')}\n                        action_bar={action_bar_items}\n                        action_bar_classname='reports__inset_header'\n                        alignment='center'\n                        classNameHeader='reports__tab-header'\n                        current_path={this.props.location.pathname}\n                        is_routed={true}\n                        is_full_width={true}\n                        list={menu_options()}\n                    />\n                </div>\n            </FadeWrapper>\n        );\n    }\n}\n\nReports.propTypes = {\n    hideBlur     : PropTypes.func,\n    history      : PropTypes.object,\n    is_visible   : PropTypes.bool,\n    location     : PropTypes.object,\n    routes       : PropTypes.arrayOf(PropTypes.object),\n    showBlur     : PropTypes.func,\n    toggleReports: PropTypes.func,\n};\n\nexport default connect(\n    ({ ui }) => ({\n        hideBlur     : ui.hideRouteBlur,\n        is_visible   : ui.is_reports_visible,\n        showBlur     : ui.showRouteBlur,\n        toggleReports: ui.toggleReports,\n    })\n)(withRouter(Reports));\n"],"sourceRoot":""}